<!DOCTYPE html>
<html lang="en">
<head>
    {{ if hugo.IsProduction }} {{ partial "ga.html" . }} {{ end }}
    {{ partial "head.html" . }}
</head>
<body>
    <header>
        {{ block "header" . }}
        {{ with .Title }}<h1>{{ . }}</h1>{{ end }}
        {{ with .Params.subtitle }}<h2>{{ . }}</h2>{{ end }}
        {{ block "nav" . }}{{ partial "nav.html" . }}{{ end }}
        {{ end }}
    </header>
    {{ block "main" . }}
    <main>
        {{ if and (gt .WordCount 400) (.Params.toc) }}
            {{ partial "toc" . }}
        {{ end }}
        {{ block "content" . }}{{ end }}
    </main>
    {{ end }}

    {{ partial "footer.html" . }}

{{ if .Page.Store.Get "hasMermaid" }}
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
{{ end }}

</body>
</html>